#!/bin/bash

build() {
    add_module "btrfs"
    add_binary "btrfs"
    add_binary "btrfsck"
    add_runscript "90-btrfs-snapshot-ro"  # Runs late in initramfs after filesystems hook
}

help() {
    cat <<HELPEOF
BTRFS Snapshot RO Fix: Sets ro=false on /new_root snapshot for bootable writable root.
Use after Snapper snapshots (which default to ro=true) to avoid mount errors.
HELPEOF
}
